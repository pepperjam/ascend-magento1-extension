<?xml version="1.0" encoding="UTF-8"?>
<config>
	<modules>
		<EbayEnterprise_Affiliate>
			<version>1.0.0.0</version>
		</EbayEnterprise_Affiliate>
	</modules>
	<global>
		<models>
			<eems_affiliate>
				<class>EbayEnterprise_Affiliate_Model</class>
			</eems_affiliate>
		</models>
		<helpers>
			<eems_affiliate>
				<class>EbayEnterprise_Affiliate_Helper</class>
			</eems_affiliate>
		</helpers>
		<blocks>
			<eems_affiliate>
				<class>EbayEnterprise_Affiliate_Block</class>
			</eems_affiliate>
		</blocks>
	</global>
	<crontab>
		<jobs>
			<eems_affiliate_generate_product_feed>
				<run>
					<model>eems_affiliate/observer::createProductFeed</model>
				</run>
			</eems_affiliate_generate_product_feed>
			<eems_affiliate_generate_corrected_order_feed>
				<schedule><cron_expr>* */3 * * *</cron_expr></schedule>
				<run>
					<model>eems_affiliate/observer::createCorrectedOrdersFeed</model>
				</run>
			</eems_affiliate_generate_corrected_order_feed>
		</jobs>
	</crontab>
	<default>
		<marketing_solutions>
			<eems_affiliate>
				<active>0</active>
				<beacon_url>https://t.pepperjamnetwork.com/track</beacon_url>
				<export_path>var/export/eems_affiliate/</export_path>
				<int>ITEMIZED</int>
				<itemized_orders>1</itemized_orders>
				<program_id></program_id>
				<transaction_type>1</transaction_type>
				<feeds>
					<callback_mappings>
						<program_id>
							<class>eems_affiliate/map</class>
							<method>getProgramId</method>
							<type>helper</type>
							<column_name>PID</column_name>
						</program_id>
						<order_id>
							<class>eems_affiliate/map_order</class>
							<method>getOrderId</method>
							<type>helper</type>
							<column_name>OID</column_name>
							<params>
								<format>%.50s</format>
							</params>
						</order_id>
						<item_order_id>
							<class>eems_affiliate/map_order</class>
							<method>getItemOrderId</method>
							<type>helper</type>
							<column_name>OID</column_name>
							<params>
								<format>%.50s</format>
							</params>
						</item_order_id>
						<item_id>
							<class>eems_affiliate/map_order</class>
							<method>getItemId</method>
							<type>helper</type>
							<column_name>ITEMID</column_name>
							<params>
								<format>%.50s</format>
								<key>sku</key>
							</params>
						</item_id>
						<row_total>
							<class>eems_affiliate/map_order</class>
							<method>getRowTotal</method>
							<type>helper</type>
							<column_name>TOTALAMOUNT</column_name>
							<params>
								<format>%.2f</format>
							</params>
						</row_total>
						<item_quantity>
							<class>eems_affiliate/map_order</class>
							<method>getItemQuantity</method>
							<type>helper</type>
							<column_name>QUANTITY</column_name>
						</item_quantity>
						<order_amount>
							<class>eems_affiliate/map_order</class>
							<method>getOrderAmount</method>
							<type>helper</type>
							<column_name>AMOUNT</column_name>
							<params>
								<format>%.2f</format>
							</params>
						</order_amount>
						<reason>
							<class>eems_affiliate/map</class>
							<method>passStatic</method>
							<type>helper</type>
							<column_name>REASON</column_name>
							<params>
								<value>8</value>
							</params>
						</reason>
						<transaction_type>
							<class>eems_affiliate/map_order</class>
							<method>getTransactionType</method>
							<type>helper</type>
							<column_name>TYPE</column_name>
						</transaction_type>
						<buy_url>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>buy_url</column_name>
							<params>
								<key>product_url</key>
								<format>%.2000s</format>
							</params>
						</buy_url>
						<category_program>
							<class>eems_affiliate/map_product</class>
							<method>getCategory</method>
							<type>helper</type>
							<column_name>category_program</column_name>
							<params>
								<key>category</key>
								<format>%.256s</format>
							</params>
						</category_program>
						<description_long>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>description_long</column_name>
							<params>
								<key>description</key>
								<format>%.2000s</format>
							</params>
						</description_long>
						<description_short>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>description_short</column_name>
							<params>
								<key>short_description</key>
								<format>%.512s</format>
							</params>
						</description_short>
						<image_thumb_url>
							<class>eems_affiliate/map_product</class>
							<method>getImageUrl</method>
							<type>helper</type>
							<column_name>image_thumb_url</column_name>
							<params>
								<key>thumbnail</key>
								<format>%.2000s</format>
							</params>
						</image_thumb_url>
						<image_url>
							<class>eems_affiliate/map_product</class>
							<method>getImageUrl</method>
							<type>helper</type>
							<column_name>image_url</column_name>
							<params>
								<key>image</key>
								<format>%.2000s</format>
							</params>
						</image_url>
						<keywords>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>keywords</column_name>
							<params>
								<key>meta_keyword</key>
								<format>%.256s</format>
							</params>
						</keywords>
						<manufacturer>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>manufacturer</column_name>
							<params>
								<key>manufacturer</key>
								<format>%.128s</format>
							</params>
						</manufacturer>
						<name>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>name</column_name>
							<params>
								<key>name</key>
								<format>%.128s</format>
							</params>
						</name>
						<price>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>price</column_name>
							<params>
								<key>price</key>
								<format>%01.2f</format>
							</params>
						</price>
						<price_retail>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>price_retail</column_name>
							<params>
								<key>msrp</key>
								<format>%01.2f</format>
							</params>
						</price_retail>
						<price_sale>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>price_sale</column_name>
							<params>
								<key>special_price</key>
								<format>%01.2f</format>
							</params>
						</price_sale>
						<quantity_in_stock>
							<class>eems_affiliate/map_product</class>
							<method>getInStockQty</method>
							<type>helper</type>
							<column_name>quantity_in_stock</column_name>
						</quantity_in_stock>
						<sku>
							<class>eems_affiliate/map</class>
							<method>getDataValue</method>
							<type>helper</type>
							<column_name>sku</column_name>
							<params>
								<key>sku</key>
								<format>%.128s</format>
							</params>
						</sku>
					</callback_mappings>
					<order_itemized>
						<fields>program_id,item_order_id,item_id,row_total,item_quantity,reason</fields>
						<file_name_format>%s_transactions_corrected_%s.csv</file_name_format>
					</order_itemized>
					<order_basic>
						<fields>program_id,order_amount,order_id,reason,transaction_type</fields>
						<file_name_format>%s_transactions_corrected_%s.csv</file_name_format>
					</order_basic>
					<product>
						<file_name_format>%s_product_feed.csv</file_name_format>
						<fields>buy_url,category_program,description_long,description_short,image_thumb_url,image_url,keywords,manufacturer,name,price,price_retail,price_sale,quantity_in_stock,sku</fields>
					</product>
				</feeds>
			</eems_affiliate>
		</marketing_solutions>
	</default>
	<frontend>
		<layout>
			<updates>
				<eems_affiliate>
					<file>eems_affiliate.xml</file>
				</eems_affiliate>
			</updates>
		</layout>
	</frontend>
	<phpunit>
		<suite>
			<modules>
				<EbayEnterprise_Affiliate/>
			</modules>
		</suite>
	</phpunit>
</config>
